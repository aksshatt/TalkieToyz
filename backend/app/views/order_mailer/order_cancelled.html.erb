<!DOCTYPE html>
<html>
<head>
  <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
    .container { max-width: 600px; margin: 0 auto; padding: 20px; }
    .header { background-color: #f56565; color: white; padding: 20px; text-align: center; }
    .content { padding: 20px; background-color: #f9f9f9; }
    .refund-info { background-color: #fff3cd; padding: 15px; margin: 20px 0; border-radius: 5px; border-left: 4px solid #ffc107; }
    .footer { text-align: center; padding: 20px; color: #666; font-size: 12px; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Order Cancelled</h1>
    </div>

    <div class="content">
      <h2>Hi <%= @user.email %>,</h2>
      <p>Your order <strong><%= @order.order_number %></strong> has been cancelled as requested.</p>

      <% if @order.payment_method == 'razorpay' && @order.payment_status == 'paid' %>
        <div class="refund-info">
          <h4>Refund Information</h4>
          <p>Your refund of <strong>$<%= '%.2f' % @order.total %></strong> will be processed within 5-7 business days and will be credited back to your original payment method.</p>
        </div>
      <% end %>

      <p>If you didn't request this cancellation or have any questions, please contact our customer support immediately.</p>

      <p>We hope to serve you again soon!</p>

      <p>Best regards,<br>The TalkieToys Team</p>
    </div>

    <div class="footer">
      <p>&copy; <%= Time.current.year %> TalkieToys. All rights reserved.</p>
    </div>
  </div>
</body>
</html>
